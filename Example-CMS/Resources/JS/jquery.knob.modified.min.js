$(function(){function t(n){return $.isNumeric(n)?n*Math.PI/180:0}var n=function(t,i){var u=null,r=t[0].getContext("2d"),o=2*Math.PI,s,h,c,l,f=this,e,a;this.onChange=function(){};this.onCancel=function(){};this.onRelease=function(){};this.val=function(n){if(null!=n){i.stopper&&(n=Math.max(Math.min(n,i.max),i.min));u=n;this.onChange(n);i.dynamicDraw?this.dynamicDraw(n):this.draw(n)}else{var t,r;return t=r=Math.atan2(s-c,-(h-l-i.width/2))-i.angleOffset,r<0&&(t=r+o),n=Math.round(t*(i.max-i.min)/o)+i.min,n>i.max?i.max:n}};this.change=function(n){i.stopper&&(n=Math.max(Math.min(n,i.max),i.min));this.onChange(n);this.draw(n)};this.angle=function(n){return(n-i.min)*o/(i.max-i.min)};this.draw=function(t){var v=this.angle(t),s=1.5*Math.PI+i.angleOffset,a=s,h=s+this.angle(u),c=a+v,f=i.width/2,e=f*i.thickness,p=n.getCgColor(i.cgColor),l,y;if(r.clearRect(0,0,i.width,i.width),r.lineWidth=e,!i.draw(v,u,i,r)){for(l=0;l<i.ticks;l++)r.beginPath(),r.strokeStyle=v>2*Math.PI/i.ticks*l&&i.tickColorizeValues?i.fgColor:i.tickColor,y=2*Math.PI/i.ticks*l-.5*Math.PI,r.arc(f,f,f-e-i.tickLength,y,y+i.tickWidth,!1),r.stroke();i.cursor&&(s=h-.3)&&(h=h+.3)&&(a=c-.3)&&(c=c+.3);switch(i.skin){case"default":r.beginPath();r.strokeStyle=i.bgColor;r.arc(f,f,f-e/2,0,o,!0);r.stroke();i.displayPrevious&&(r.beginPath(),r.strokeStyle=u==t?i.fgColor:p,r.arc(f,f,f-e/2,s,h,!1),r.stroke());r.beginPath();r.strokeStyle=i.fgColor;r.arc(f,f,f-e/2,a,c,!1);r.stroke();break;case"tron":i.displayPrevious&&(r.beginPath(),r.strokeStyle=u==t?i.fgColor:p,r.arc(f,f,f-e,s,h,!1),r.stroke());r.beginPath();r.strokeStyle=i.fgColor;r.arc(f,f,f-e,a,c,!1);r.stroke();r.lineWidth=2;r.beginPath();r.strokeStyle=i.fgColor;r.arc(f,f,f-e+1+e*2/3,0,2*Math.PI,!1);r.stroke()}}};this.dynamicDraw=function(n){var t=this;e=i.min;a=setInterval(function(){t.animateDraw(n)},20)};this.animateDraw=function(){e>u?(clearInterval(a),u=e):(this.draw(e),this.change(e),e++)};this.capture=function(n){switch(n.type){case"mousemove":case"mousedown":s=n.pageX;h=n.pageY;break;case"touchmove":case"touchstart":s=n.originalEvent.touches[0].pageX;h=n.originalEvent.touches[0].pageY}this.change(this.val())};this.cancel=function(){f.val(u);f.onCancel()};this.startDrag=function(n){var e=t.offset(),r=$(document);c=e.left+i.width/2;l=e.top;this.capture(n);r.bind("mousemove.dial touchmove.dial",function(n){f.capture(n)}).bind("keyup.dial",function(n){n.keyCode===27&&(r.unbind("mouseup.dial mousemove.dial keyup.dial"),f.cancel())}).bind("mouseup.dial touchend.dial",function(){r.unbind("mousemove.dial touchmove.dial mouseup.dial touchend.dial keyup.dial");f.val(f.val());f.onRelease(u)})}};n.getCgColor=function(n){n=n.substring(1,7);var t=[parseInt(n.substring(0,2),16),parseInt(n.substring(2,4),16),parseInt(n.substring(4,6),16)];return"rgba("+t[0]+","+t[1]+","+t[2]+",.5)"};$.fn.knob=$.fn.dial=function(i){return this.each(function(){var r=$(this),u,c,s,e,a;if(r.data("dialed"))return r;r.data("dialed",!0);u=$.extend({min:r.data("min")||0,max:r.data("max")||100,stopper:!0,readOnly:r.data("readonly"),cursor:r.data("cursor"),thickness:r.data("thickness")||.35,width:r.data("width")||200,displayInput:r.data("displayinput")==null||r.data("displayinput"),displayPrevious:r.data("displayprevious"),fgColor:r.data("fgcolor")||"#87CEEB",cgColor:r.data("cgcolor")||r.data("fgcolor")||"#87CEEB",bgColor:r.data("bgcolor")||"#EEEEEE",tickColor:r.data("tickColor")||r.data("fgcolor")||"#DDDDDD",ticks:r.data("ticks")||0,tickLength:r.data("tickLength")||0,tickWidth:r.data("tickWidth")||.02,tickColorizeValues:r.data("tickColorizeValues")||!0,skin:r.data("skin")||"default",angleOffset:t(r.data("angleoffset")),dynamicDraw:r.data("dynamicdraw")||!1,draw:function(){},change:function(){},release:function(){}},i);var h=$('<canvas width="'+u.width+'" height="'+u.width+'"><\/canvas>'),v=$("<div style=width:"+u.width+'px;display:inline;"><\/div>'),f,o=r.val(),l=function(){u.displayInput&&r.css({width:u.width/2+"px",position:"absolute","margin-top":u.width*5/14+"px","margin-left":"-"+u.width*3/4+"px","font-size":u.width/4+"px",border:"none",background:"none","font-family":"Arial","font-weight":"bold","text-align":"center",color:u.fgColor,padding:"0px","-webkit-appearance":"none"})||r.css({width:"0px",visibility:"hidden"})};r.wrap(v).before(h);l();f=new n(h,u);o||(o=u.min);r.val(o);f.val(o);f.onRelease=function(n){u.release(n,r)};f.onChange=function(n){r.val(n);u.change(n)};r.bind("change",function(){f.val(r.val())});u.readOnly?r.attr("readonly","readonly"):(h.bind("mousedown touchstart",function(n){n.preventDefault();f.startDrag(n)}).bind("mousewheel DOMMouseScroll",mw=function(n){n.preventDefault();var t=n.originalEvent,i=t.detail||t.wheelDeltaX,u=t.detail||t.wheelDeltaY,e=parseInt(r.val())+(i>0||u>0?1:i<0||u<0?-1:0);f.val(e)}),e=1,a={37:-1,38:1,39:1,40:-1},r.bind("configure",function(n,t){for(var i in t)u[i]=t[i];l();f.val(r.val())}).bind("keydown",function(n){var t=n.keyCode;t>=96&&t<=105&&(t-=48);c=parseInt(String.fromCharCode(t));isNaN(c)&&(t!==13&&t!==8&&t!==9&&t!==189&&n.preventDefault(),$.inArray(t,[37,38,39,40])>-1&&(f.change(parseInt(r.val())+a[t]*e),s=window.setTimeout(function(){e<20&&e++},50),n.preventDefault()))}).bind("keyup",function(n){if(isNaN(c))if(s){window.clearTimeout(s);s=null;e=1;f.val(r.val());f.onRelease(r.val(),r)}else n.keyCode===13&&f.onRelease(r.val(),r);else r.val()>u.max&&r.val(u.max)||r.val()<u.min&&r.val(u.min)}).bind("mousewheel DOMMouseScroll",mw))}).parent()}});
/*
//# sourceMappingURL=jquery.knob.modified.min.js.map
*/